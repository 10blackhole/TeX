\section{Nonlinear Electrodynamics}
As is defined in the Plebanski book \cite{Plebanski:1970zz}, nonlinear electrodynamics are described by the following action principle
\begin{equation}\label{1}
  S_{\rm E}[g,A,P]=-\frac{1}{4\p }\int\dd^4 x\sqrt{-g}\left(\frac{1}{2}F_{\m\n }P^{\m\n }-\mathscr{H}(\mathscr{P},\mathscr{Q})\right)
\end{equation}
which depends on the metric $g_{\m\n }$, the gauge potential $A_\m$, and the antisymmetric tensor $P_{\m\n }$. Here the structural function $\mathscr{H}$ describes the precise nonlinear electrodynamics and depends, in general, on the two Lorentz scalars that can be constructed with $P^{\m\n }$ \cite{Born:1934gh}. As usual, the field strength is related to the gauge potential as $F=\dd A$, ensuring the \textit{Faraday equations}
\begin{equation}\label{2}
  \dd F=0.
\end{equation}
On the other hand, the variation of action \eqref{1} with respect to the gauge potential leads to the \textit{Maxwell equations}
\begin{equation}\label{3}
	\dd \star P=0, 
\end{equation}
where $\star$ stands for the Hodge dual, whereas varying \eqref{1} with respect to the antisymmetric tensor $P^{\m\n }$ yields the constitutive relations
\begin{equation}\label{4}
  F_{\m\n }=\pdv{\mathscr{H}}{\mathscr{P}}P_{\m\n }+\pdv{\mathscr{H}}{\mathscr{Q}}\star P_{\m\n }.
\end{equation}
Notice that Maxwell electrodynamics is recovered for $\mathscr{H}=\mathscr{P}$, giving linear \textit{constitutive relations}. In fact, if $\mathscr{H}=\mathscr{P}$ we get
\begin{align}
  F_{\m\n }=P_{\m\n }.
\end{align}
Lastly, the corresponding energy-momentum tensor reads
\begin{equation}\label{5}
  4\p T_{\m\n }^{\rm E}=F_{\m\a }P_{\n }^{~\a }-g_{\m\n }\left(\frac{1}{2}F_{\a\b }P^{\a\b }-\mathscr{H}\right). 
\end{equation}
The main motivation for the action principle \eqref{1} is that now Maxwell equations \eqref{3} remain linear as the Fara- day ones \eqref{2} while the nonlinearity is encoded into the constitutive relations \eqref{4}. Consequently, Maxwell equations \eqref{3} can be now understood just like the Faraday ones \eqref{2}, i.e., implying the local existence of a vector potential $\star P=\dd A^*$. Therefore, from the point of view of the action principle \eqref{1}, a solution to nonlinear electrodynamics can be understood as a pair of vector potentials $A$ and $A^*$ compatible with the constitutive relations \eqref{4}. Additionally, since in four dimensions both Faraday \eqref{2} and Maxwell \eqref{3} equations define conservation laws, there are conserved quantities related to them defined by the following integrals
\begin{equation}\label{6}
  p=\frac{1}{4\p }\int_{\partial\Sigma}F,\qquad q=\frac{1}{4\p }\int_{\partial\Sigma}\star P, 
\end{equation}
where the integration is taken at the boundary of con-
stant time hypersurfaces $\Sigma $; obviously, these are nothing other than the magnetic and electric charges, respectively.

After this brief and useful introduction, and in order to prepare for what follows, we review a strategy that has proved to be fruitful when nonlinear electrodynamics is considered in General Relativity [XX]. This strategy simply consists of working in a null tetrad of the spacetime metric
\begin{equation}\label{7}
  g=2e^1\otimes_s e^2+2e^3\otimes_s e^4, 
\end{equation}
aligned along the common eigenvectors of the electro-
magnetic fields, i.e.
\begin{equation}\label{8}
  F+\i  \star P=(D+\i B)e^1\wedge e^2+(E+\i H)e^3\wedge e^4\,  .
\end{equation}
Here, the first pair of the tetrad is composed of complex conjugates one-forms, while the last pair is real. Additionally, it has been implicitly assumed that the electromagnetic configuration is algebraically general; namely, the real invariants $E$, $B$, $D$, and $H$ related to the eigenvalues are not all zero at the same time. We also remark that the scalars $E$ and $D$ are associated with the intensity of the electric field and electric induction, respectively, as perceived in the null frame, while $H$ and $B$ are their magnetic counterparts. In terms of the aligned tetrad invariants \eqref{8}, the standard invariants take the form
\begin{subequations}\label{9}
	\begin{align}
  \mathscr{F}+\i \mathscr{G}&\equiv \frac{1}{4}F_{\m\n }F^{\m\n }+\frac{\i }{4}F_{\m\n}\star F^{\m\n }=-\frac{1}{2}(E+\i B)^2,\\
  \mathscr{P}+\i \mathscr{Q}&\equiv \frac{1}{4}P_{\m\n }P^{\m\n }+\frac{\i }{4}P_{\m\n}\star P^{\m\n }=-\frac{1}{2}(D+\i H)^2,
\end{align}
\end{subequations}
resulting in a parabolic relation between them. Therefore, the structural function is reparameterized as $\mathscr{H}(\mathscr{P},\mathscr{Q})=\mathscr{H}(D,H)$, which leads to a simpler version of the constitutive relations \eqref{4} that now reads
\begin{equation}\label{10}
  E+\i B=(-\partial_D+\i \partial_H)\mathscr{H}.
\end{equation}
This is not the only advantage of choosing an aligned tetrad, it also results in a diagonalization of the energy-momentum tensor allowing only two independent components. The latter are better expressed through the trace, $\tr T^{\rm E}$, of \eqref{5} together with its traceless part, $\hat{T}^{\rm E}\equiv T^{\rm E}-\frac{1}{4} g\tr T^{\rm E}$, according to
\begin{subequations}
	\begin{align}\label{11}
  2\pi \tr T^{\rm E}&=DE-BH+2\mathscr{H},\\
  4\pi \hat{T}^{\rm E}&=(DE+BH)(e^1\otimes_s e^2-e^3\otimes_s e^4).\label{11b}
\end{align}
\end{subequations}
Here $E$ and $B$ must be determined from the constitutive relations \eqref{10}. This approach has been employed since the seminal work of Plebanski \cite{Plebanski:1970zz} to the formulations of nonlinear electrodynamics pioneered in [XX] which also is reviewed below. The power of this approach is such that it has been instrumental in the derivation of the first genuine example of a spinning charged black hole \cite{Garcia-Diaz:2021bao, DiazGarcia:2022jpc, Ayon-Beato:2022dwg}.

The action principle \eqref{1} is concretely obtained as a Legendre transform from a Lagrangian, $-\frac{1}{4\p }\mathscr{L}(\mathscr{F},\mathscr{G})$, which prompts dubbing the action structural function $\mathscr{H}(\mathscr{P},\mathscr{Q})$ as the \textit{Hamiltonian}. This total Legendre transform is concretely given in terms of the new variables by
\begin{equation}\label{12}
  \mathscr{L}(E,B)=BH-DE-\mathscr{H}(D,H).
\end{equation}
This highlights that in the more known Lagrangian formulation the fundamental variables are instead $E$ and $B$, where the other must be determined from the constitutive relations. Using \eqref{10} as $\dd\mathscr{H}=-E\dd D+B\dd H$ in the differential of \eqref{12}, the constitutive relations acquire now the alternative simple form
\begin{equation}\label{13}
  D+\i H=(-\partial_E+\i \partial_B)\mathscr{L}.
\end{equation}
Furthermore, the total Legendre transform \eqref{12} motivates the definition of the following two partial Legendre transforms
\begin{subequations}\label{14}
	\begin{align}
  \mathscr{M}^+(D,B)&=BH-\mathscr{M}(D,H),\\
  \mathscr{M}^-(E,H)&=DE+\mathscr{M}(D,H),
\end{align}
\end{subequations}
which were first introduced in \cite{Salazar:1987ap} and led to two alternative dual descriptions of nonlinear electrodynamics, using purely inductions or intensities as independent variables. As was first pointed out and exploited in \cite{Salazar:1987ap}, these dual formulations are precisely the ideal ones to transparently describe theories invariant under duality rotations. \bc{maybe add more text}. Additionally, they are indispensable to determine the electrodynamics supporting the spinning nonlinearly charged black holes. Correspondingly, the constitutive relations in the mixed representations are written as
\begin{subequations}\label{15}
	\begin{align}
  E+\i H&=(\partial_D +\i \partial_B)\mathscr{M}^+,\\
  D+\i B&=(\partial_E+\i \partial_H)\mathscr{M}^-,
\end{align}
\end{subequations}
Regarding the energy-momentum tensor, its traceless part is formally written again as in \eqref{11b} but considering the new constitutive relations above, while the trace changes according to the partial Legendre transforms \eqref{14}
\begin{equation}\label{16}
  2\p \tr T^{\rm E}=\pm (DE+BH-2\mathscr{M}^{\pm }).
\end{equation}
After clearly defining duality-invariant theories through these formalisms, we shall apply the above expression to determine their zero trace subclass defining the ModMax theory.

\section{A simpler derivation of ModMax electrodynamics}
Now, we will follow the formalism of the previous section to rederive the ModMax theory [XX] in a novel and comprehensive way. The approach will be based on the inductions and intensities formulations with structural functions $\M^+$ and $\M^-$, respectively, which in turn provide a direct and transparent way of deriving the theory from its defining symmetries. A symmetry-based approach was previously undertaken in [XX] but employed a Lagrangian description. In contrast with the $\M^{\pm }$ formulations, the resulting condition is nonlinear as it will be explained later, and it allows no explicit general solution as recently emphasized in [XX].

\subsection{Duality symmetry}
The main challenge is how to implement the duality symmetry. Fortunately, this problem was cleverly solved by Salazar, Garcia, and Plebanski \cite{Salazar:1987ap}. We didactically follow their approach to make evident its advantages. \textit{Duality symmetry is related to the possibility of interchanging the Faraday \eqref{2} and Maxwell equations \eqref{3}}, which are preserved by the more general rotations
\begin{equation}\label{17}
  \tilde{F}+\i \star\tilde{P}=e^{\i \varphi}(F+\i \star P).
\end{equation}
From the conserved charges \eqref{6}, these rotations are a covariant nonlinear realization of the well-known electric-magnetic duality
\begin{equation}\label{18}
  \tilde{p}+\i \tilde{q}=e^{\i \varphi}(p+\i q).
\end{equation}
However, this is not the end of the story since the involved fields are not independent as they are tied by the constitutive relations \eqref{4}. The circumstances under which the latter also remain unchanged after the rotations above are far from obvious, but we will show they are simple to analyze in the $\M^{\pm }$ formalisms. As we plan to couple the resulting duality-invariant nonlinear electrodynamics to General Relativity, we first demand the invariance of the energy-momentum tensor and show later that the emerging duality conditions are enough to also ensure preserving the constitutive relations.

Using an aligned tetrad \eqref{8}, the duality rotations \eqref{17} becomes
\begin{subequations}\label{19}
	\begin{align}
  \tilde{D}+\i\tilde{B}&=e^{\i \varphi}(D+\i B),\\
  \tilde{E}+\i \tilde{H}&=e^{\i \varphi}(E+\i H),
\end{align}
\end{subequations}
while their infinitesimal version
\begin{subequations}\label{20}
	\begin{align}
  \tilde{D}+\i\tilde{B}&=D+\i B+\varphi X(D+\i B)+\cdots,\\
  \tilde{E}+\i \tilde{H}&=E+\i H+\varphi X(E+\i H)+\cdots,
\end{align}
\end{subequations}
defines the generator of duality rotations in this representation
\begin{equation}\label{21}
  X=-B\partial_D+D\partial_B-H\partial_E+E\partial_H.
\end{equation}
As previously announced, we shall demand now the invariance of the energy-momentum tensor under duality rotations, which infinitesimally requires the generator \eqref{21} to preserve their two independent components. The traceless part \eqref{11b} is already duality invariant since its single component identically satisfies
\begin{equation}\label{22}
  X(DE+BH)=0.
\end{equation}
The the duality invariance of the trace \eqref{16} reduces to the following conditions
\begin{equation}\label{23}
  X(\M^{\pm })=0.
\end{equation}
These last requirements are enough to also preserve the constitutive relations \eqref{15} under duality rotations since the corresponding infinitesimal conditions can be rewritten as
\begin{subequations}
	\begin{align}
  X(E+\i H-[\partial_D+\i \partial_B]\M^+)&=-(\partial_D+\i \partial_B)X(\M^+)=0,\\
  X(D+\i B-[\partial_E+\i \partial_H]\M^-)&=-(\partial_E+\i \partial_H)X(\M^-)=0.
\end{align}
\end{subequations}
Notice that if one had started by analyzing first the invariance of the constitutive relations, one would have obtained from the previous expressions the preliminary conditions $X(\M ^{\pm })=$ const., which is exactly equivalent by \eqref{15} to the preliminary duality condition $DE-BE=$ const. obtained in [XX]. Anyway, the later restriction on the energy-momentum tensor, finally imposes the vanishing of this constant. The advantage here is that the duality condition \eqref{23} is expressed as a constraint on the structural functions which can be phrased as \textit{nonlinear electrodynamics is duality invariant if and only if its structural functions $\M^+(D,B)$ and $\M^-(E,H)$ are preserved by duality rotations}. This is equivalent to the following homogeneous linear first-order PDE
\begin{equation}\label{24}
  (-B\partial_D+D\partial_B)\M^+=0,\qquad (-H\partial_E+E\partial_H)\M^-=0,
\end{equation}
whoso general solutions are, respectively, of the form
\begin{equation}\label{25}
  \M^+=\M^+\left(\frac{D^2+B^2}{2}\right),\qquad \M^-=\M^-\left(\frac{E^2+H^2}{2}\right). 
\end{equation}
Hence, a generic duality-invariant nonlinear electrodynamics is necessarily described by the above structural functions, each generally depending on a single rotation-invariant variable built with the corresponding aligned invariants.

We end this subsection with a last comment regarding the duality condition $BE = DH$ in the Lagrangian and Hamiltonian formulations. Using the constitutive relations \eqref{13} or \eqref{10}, this duality requisite can be expressed in either of the following two ways
\begin{equation}\label{26}
  \partial_E\mathscr{L}\partial_B \mathscr{L}=-EB,\qquad \partial_D\mathscr{H}\partial_H \mathscr{L}=-DH.
\end{equation}
These are nonlinear first-order PDEs of the Hamilton-Jacobi type, and it is a nontrivial task to find their general solutions. In the case of the above equations, it is possible to find their general solutions depending on an arbitrary function; see Ref. [XX] for a recent account of the several methods used to achieve this task. Unfortunately, as occurs for all nonlinear first-order PDEs, such general solutions are only implicitly given. This makes impossible a transparent treatment of duality-invariant theories in the conventional formulations, i.e., the occurrence or not of duality invariance needs to be checked case by case.

\subsection{Conformal invariance}
We now turn to conformal invariance, the other defining symmetry of the ModMax electrodynamics. It is easier to implement since it is well-known that conformal symmetry necessarily implies a traceless energy-momentum tensor. Hence, we must set the trace \eqref{16} to zero, which by taking into account the constitutive relations \eqref{15} yields the following inhomogeneous linear first-order PDE
\begin{subequations}\label{27}
	\begin{align}
  (D\partial_D+B\partial_B)\M^+&=2\M^+,\\
  (E\partial_E+H\partial_H)\M^-&=2\M^-.
\end{align}
\end{subequations}
These linear PDE are easily solved and the result (which can also be obtained in the other formulations) is that the structural functions characterizing all the conformally invariant nonlinear electrodynamics are necessarily homogeneous. For example, the degree of the previous functions $\M^{\pm }$ must be two, and by directly taking the trace one. In order to exhibit that such conditions are enough to guarantee the conformal invariance of action \eqref{1}, we explicitly write down the conformal weights of its different ingredients
\begin{equation}\label{28}
  (g_{\m\n },A_\m ,P^{\m\n }) \mapsto (\Omega^2 g_{\m\n },A_\m ,\Omega^{-4}P^{\m\n }).
\end{equation}
They, together with the degree one homogeneity of the Hamiltonian, imply the latter transforms with the appropriate weight, i.e.,
\begin{equation}\label{29}
  \mathscr{H}(\mathscr{P},\mathscr{Q})\mapsto \mathscr{H}(\Omega^{-4}\mathscr{P},\Omega^{-4}\mathscr{Q})=\Omega^{-4}\mathscr{H}(\mathscr{P},\mathscr{Q}),
\end{equation}
ensuring in this way the required conformal invariance of action \eqref{1}.

\subsection{ModMax derivation}
After having transparently characterized both duality and conformal symmetries, it will turn to easily derive the ModMax theory [XX]. The single-argument dependence of duality-invariant theories \eqref{25} reduces the homogeneity defining PDE \eqref{27}, warranting conformal symmetry to the simple ordinary equations
\begin{subequations}\label{30}
	\begin{align}
  \frac{1}{2}(D^2+B^2)\M ^{+}'&=\M^+,\\
  \frac{1}{2}(E^2+H^2)\M^{-}'&=\M ^{-},
\end{align}
\end{subequations}
whose general solutions are given by
\begin{subequations}\label{31}
	\begin{align}
  \M^+_{\rm MM}(D,B)&=\frac{e^{-\gamma}}{2}(D^2+B^2),\\
  \M^{-}_{\rm MM}(E,H)&=\frac{e^\gamma}{2}(E^2+H^2).
\end{align}
\end{subequations}
These structural functions define the so-called ModMax electrodynamics, i.e., \textit{the generic family of duality-invariant theories that enjoy conformal symmetry at the same time.} The difference between the above integration constants is due to the fact that it is enough to integrate only one of the structural functions since the other is obtained from Legendre transforms \eqref{14} and results in the inverse integration constant of the former. In order to write the theory in a more standard form, notice that due to the squared dependence \eqref{31} the resulting constitutive relations \eqref{15} become linear and trivially invertible
\begin{equation}\label{32}
  E+\i H=e^{-\gamma}(D+\i B).
\end{equation}
That turns into a straightforward task to obtain the other structural functions from the Legendre transforms \eqref{14} and \eqref{12}, also yielding a squared dependence in terms of the aligned invariants
\begin{subequations}\label{33}
	\begin{align}
  \LL_{\rm MM}(E,B)&=-\frac{1}{2}(e^\gamma E^2-e^{-\gamma}B^2),\\
  \LL_{\rm MM}(D,H)&=-\frac{1}{2}(e^{-\gamma} D^2-e^{\gamma}H^2).
\end{align}
\end{subequations}
We are now ready to express the Lagrangian and Hamiltonian in terms of the conventional invariants by inverting the parabolic relations \eqref{9} between the two families of invariants. Finally allows us to write down the standard structural functions of ModMax theory in this best-known form
\begin{subequations}\label{34}
	\begin{align}
  \LL_{\rm MM}(\mathscr{F},\mathscr{G})&=\cosh(\gamma)\mathscr{F}-\sinh(\gamma)\sqrt{\mathscr{F}^2+\mathscr{G}^2},\\
  \mathscr{H}_{\rm MM}(\mathscr{P},\mathscr{Q})&=\cosh(\gamma)\mathscr{P}-\sinh(\gamma)\sqrt{\mathscr{P}^2+\mathscr{Q}^2}.
\end{align}
\end{subequations}































